/**
 * @author Ã’scar Casajuana a.k.a. elboletaire <elboletaire at underave dot net>
 * @link https://github.com/elboletaire/password-strength-meter
 */
!function(e){"use strict";var a=function(a,t){function s(e){return e===-1?t.shortPass:e===-2?t.containsUsername:(e=n(e),e<34?t.badPass:e<68?t.goodPass:t.strongPass)}function n(e){return e<0&&(e=0),e>100&&(e=100),e}function r(e,a){var s=0;if(e.length<t.minimumLength)return-1;if(t.username){if(e.toLowerCase()===a.toLowerCase())return-2;if(t.usernamePartialMatch&&a.length){var n=new RegExp(a.toLowerCase());if(e.toLowerCase().match(n))return-2}}s+=4*e.length,s+=o(1,e).length-e.length,s+=o(2,e).length-e.length,s+=o(3,e).length-e.length,s+=o(4,e).length-e.length,e.match(/(.*[0-9].*[0-9].*[0-9])/)&&(s+=5);var r=".*[!,@,#,$,%,^,&,*,?,_,~]";return r=new RegExp("("+r+r+")"),e.match(r)&&(s+=5),e.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)&&(s+=10),e.match(/([a-zA-Z])/)&&e.match(/([0-9])/)&&(s+=15),e.match(/([!,@,#,$,%,^,&,*,?,_,~])/)&&e.match(/([0-9])/)&&(s+=15),e.match(/([!,@,#,$,%,^,&,*,?,_,~])/)&&e.match(/([a-zA-Z])/)&&(s+=15),(e.match(/^\w+$/)||e.match(/^\d+$/))&&(s-=10),s>100&&(s=100),s<0&&(s=0),s}function o(e,a){for(var t="",s=!1,n=0;n<a.length;n++){s=!0;for(var r=0;r<e&&r+n+e<a.length;r++)s=s&&a.charAt(r+n)===a.charAt(r+n+e);r<e&&(s=!1),s?(n+=e-1,s=!1):t+=a.charAt(n)}return t}function i(){var o=!0,i=t.showText,h=t.showPercent,c=e("<div>").addClass("pass-graybar"),l=e("<div>").addClass("pass-colorbar"),p=e("<div>").addClass("pass-wrapper").append(c.append(l));return a.parent().addClass("pass-strength-visible"),t.animate&&(p.css("display","none"),o=!1,a.parent().removeClass("pass-strength-visible")),t.showPercent&&(h=e("<span>").addClass("pass-percent").text("0%"),p.append(h)),t.showText&&(i=e("<span>").addClass("pass-text").html(t.enterPass),p.append(i)),a.after(p),a.keyup(function(){var o=t.username||"";o&&(o=e(o).val());var c=r(a.val(),o);a.trigger("password.score",[c]);var p=n(c);if(l.css({backgroundPosition:"0px -"+p+"px",width:p+"%"}),t.showPercent&&h.html(p+"%"),t.showText){var d=s(c);!a.val().length&&c<=0&&(d=t.enterPass),i.html()!==e("<div>").html(d).html()&&(i.html(d),a.trigger("password.text",[d,c]))}}),t.animate&&(a.focus(function(){o||p.slideDown(t.animateSpeed,function(){o=!0,a.parent().addClass("pass-strength-visible")})}),a.blur(function(){!a.val().length&&o&&p.slideUp(t.animateSpeed,function(){o=!1,a.parent().removeClass("pass-strength-visible")})})),this}var h={shortPass:"The password is too short",badPass:"Weak; try combining letters & numbers",goodPass:"Medium; try using special charecters",strongPass:"Strong password",containsUsername:"The password contains the username",enterPass:"Type your password",showPercent:!1,showText:!0,animate:!0,animateSpeed:"fast",username:!1,usernamePartialMatch:!0,minimumLength:4};return t=e.extend({},h,t),i.call(this)};e.fn.password=function(t){return this.each(function(){new a(e(this),t)})}}(jQuery);